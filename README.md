# ZellerDay 📅→📆

**通过蔡勒公式快速计算任意日期是星期几 | 优雅简洁的命令行工具**

---

## ✨ 项目简介

ZellerDay 是一个基于Python实现的，采用经典的[蔡勒公式（Zeller's Congruence）](https://en.wikipedia.org/wiki/Zeller%27s_congruence)来计算任一日期对应星期的工具。
通过内置的日期解析功能，程序支持处理多种常见日期格式，并在遇到输入歧义时通过交互提示用户选择相应解析方式。
项目功能完善，代码简洁规范，适合作为教学或自学案例。

---

## 🚀 功能特性
- ✔️ **高度计算兼容性**：支持使用蔡勒公式计算**任一日期**（除去不存在的日期）对应的星期，**兼容公元前及公元后的日期（负年份）**
- 🔢 **高度输入兼容性**：当输入存在歧义（例如数值都小于等于31时），程序会通过交互提示用户选择正确的解析方式
- 📌 **支持两种输入模式**：可一次性输入完整日期或分步输入年月日
- ⚡ **支持批量日期文件处理**：内置批处理功能，可以读取文本文件中的每行日期，进行计算，并根据用户选择导出为新文件或修改原文件
- 🔁 **日志记录**：所有日期查询结果均记录在 query_history.log 文件中，记录格式为 “时间戳 - 查询 -> 结果”
- 📚 **零第三方依赖**：100% 纯Python实现
- 🛡️  **多格式日期输入**：程序支持多种日期格式，包括但不限于：
  - YYYY-MM-DD
  - YYYY/MM/DD
  - YYYY.MM.DD
  - DD-MM-YYYY
  - DD/MM/YYYY
  - DD.MM.YYYY
  - 以及其他格式

---

## 💡 功能提示

- 当月份或日期为个位数时，此时输入的月份或日期会被自动补零，例如：233-1-1会被自动修改为0233-01-01

- 批量日期文件处理功能不只支持 txt 格式，只要是文本文件，并且日期可以按行读取，就可以处理。例如，.txt, .csv, .log 等文本格式的文件都可以

- 批量日期文件内的日期需要每行一个日期进行排列，日期格式必须为 YYYY-MM-DD，日期之间使用换行符分隔
  - 例如，一个符合要求的批量日期文件内容如下：
    >```bash
    >2025-01-01
    >2025-02-14
    >2025-03-15
    >2025-04-01
    >2025-05-01
    >```
- 批量处理模式：  
  - 程序支持批量处理日期文件，可以通过在命令行中，使用以下命令来运行批量处理功能：```python main.py batch your_dates.txt```进行处理。用户可以选择导出为新文件或修改原文件。
---

## 📦 快速开始

### 环境要求
- Python 3.x

### 安装步骤
```bash
git clone https://github.com/YifanHere/ZellerDay.git
cd ZellerDay
```

### 运行程序
```bash
python main.py
```

### 使用示例
```
欢迎使用 ZellerDay 星期计算器
该程序通过蔡勒公式计算任一日期对应星期。

请输入日期（如2025-02-24），或直接回车选择逐步输入：2025-2-24

2025年02月24日 是 星期一。

是否要继续计算其他日期？(Y/N/Enter):
请输入年份（例如2025 或 3 或 -123）：5201
请输入月份（例如2）：3
请输入日期（例如24）：14

5201年03月14日 是 星期三。

是否要继续计算其他日期？(Y/N/Enter): -1414/5/14
[DEBUG] 天文转换: 原始年份 -1414 转换为年 -1413

-1414年05月14日 是 星期四。

是否要继续计算其他日期？(Y/N/Enter): 2.3.3
输入日期格式存在歧义，请选择解析方式:
输入 '1' 代表 年-月-日 (例如 3-2-1 解析为 3年2月1日)
输入 '2' 代表 日-月-年 (例如 3-2-1 解析为 1年2月3日)
输入 '3' 代表 月-日-年 (例如 3-2-1 解析为 1年3月2日)
请输入对应序号 (默认1): 1

0002年03月03日 是 星期三。
```

---

## 🌱 扩展计划

- ✅ 支持批量日期文件处理
- ✅ 生成日期查询历史报告
- ✅ 支持更多常用日期格式及日期分隔符
- ⬜ 制作前端页面，将其组件化，开箱即用
- ⬜ 将该项目制作为一个Python库
- ⬜ 开发REST API接口
- ⬜ 添加GUI界面（Tkinter/PyQt）
- ......
---
